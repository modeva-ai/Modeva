
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Resilience</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/theme_override.css?v=578d8e15" />
    <link rel="stylesheet" type="text/css" href="../../../_static/hide_links.css?v=60d22a59" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=a6e25548" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_source/user_guide/testing/resilience';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Fairness" href="fairness.html" />
    <link rel="prev" title="Robustness" href="robustness.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.0.9" />
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="MoDeVa">
  <meta property="og:description" content="An Integrated Tool for Model Development and Validation">
  <meta property="og:image" content="_static/logo-text.jpg">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SMVZ23N4JL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-SMVZ23N4JL');
  </script>

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.jpg" class="logo__image only-light" alt=""/>
    <img src="../../../_static/logo.jpg" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">Modeva-AI</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../install.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../usage.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api_ref.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../galleries.html">
    Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../changes.html">
    Changelog
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/modeva-ai/Modeva" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/Modeva" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-box fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../install.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../usage.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api_ref.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../galleries.html">
    Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../changes.html">
    Changelog
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/modeva-ai/Modeva" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/Modeva" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-box fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data.html">Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modelwrapping.html">Model Wrapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explain.html">Model Explainability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Interpretable Models</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../testing.html">Diagnostic Suite</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="performance.html">Performance and Residual Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="weakspot.html">Weakness Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="overfit.html">Underfitting and Overfitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="reliability.html">Reliability</a></li>
<li class="toctree-l2"><a class="reference internal" href="robustness.html">Robustness</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Resilience</a></li>
<li class="toctree-l2"><a class="reference internal" href="fairness.html">Fairness</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../low_code.html">Low code</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../usage.html" class="nav-link">Using Modeva</a></li>
    
    
    <li class="breadcrumb-item"><a href="../testing.html" class="nav-link">Diagnostic Suite</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Resilience</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="resilience">
<h1>Resilience<a class="headerlink" href="#resilience" title="Link to this heading">#</a></h1>
<p>Resilience is the ability of a model to maintain accurate performance despite changes in input data distribution or external factors. In banking, this is particularly important due to shifting economic conditions, evolving customer behaviors, and changing regulatory environments—all of which can affect model performance over time. For instance, variations in input data such as income levels, employment rates, or customer behavior can lead to reduced predictive accuracy.</p>
<p>To evaluate a model’s resilience, one effective approach is to assess its performance across different behavioral segments or clusters. If significant discrepancies in performance are observed across these segments, it may indicate the need for further analysis or the development of segment-specific models to address these variations.</p>
<p><strong>Investigating and Improving Model Resilience in MoDeVa</strong></p>
<p>In MoDeVa, investigating and improving model resilience involves the following steps:</p>
<ol class="arabic simple">
<li><p>Apply Distribution Shift Scenarios: Analyze the circumstances and distribution shift conditions under which the model’s performance declines to understand potential vulnerabilities.</p></li>
<li><p>Assess Variability and Segment Performance: Evaluate the model’s performance across different segments or clusters to identify areas of inconsistency or significant variability.</p></li>
<li><p>Determine Impactful Variables: Identify key variables whose distributional shifts have the greatest impact on performance degradation, helping to prioritize areas for improvement.</p></li>
<li><p>Enhance the Model: Address the identified issues by refining the model, such as through further analysis, introducing segment-specific models, or other tailored adjustments.</p></li>
</ol>
<p><strong>Distribution Shift Scenarios</strong></p>
<p>There are many scenarios that can be employed to simulate a shift between the training/testing (or overall) distribution and the deployment distribution, MoDeVa provides the following scenarios:</p>
<blockquote>
<div><p><strong>1. Drift to Worst Performing Samples</strong>
Idea: Identify samples on which the model’s performance is poorest measured by error metrics or mispredictions—and simulate drift by increasing their proportion.
Rationale: This can mimic a “worst-case” scenario where the deployment data disproportionately resembles the “hard” cases, revealing vulnerabilities in the model.</p>
<p><strong>2. Drift to Clusters (KMeans) to the Worst Performing Cluster</strong>
Idea: Use a clustering algorithm (e.g., k-means) on the feature space to segment the data. Then, determine which cluster exhibits the worst performance and simulate drift by focusing on this subgroup.
Rationale: Clustering can capture latent subpopulations in the data. If one cluster consistently underperforms, it may represent a niche or anomalous group, and simulating drift toward this cluster can expose model weaknesses specific to that segment.</p>
<p><strong>3. Drift to the Edge (Outer Side of the Distribution)</strong>
Idea: Identify samples that lie at the periphery of the overall data distribution. This involves using distance metrics (Mahalanobis distance) to quantify how “far” a sample is from the center of the data.
Rationale: Edge cases are typically less represented during training and can behave like out-of-distribution (OOD) samples. Shifting towards these samples can test the model’s ability to generalize to more extreme, less typical cases.</p>
<p><strong>4. Drift to Distribution of Samples that are Hardest to Predict</strong>
Idea: Determine which samples the model finds most uncertain or difficult to predict—-high predictive entropy, low confidence scores, or high error rates.
Rationale: These samples are where the model is least reliable. By simulating a scenario where these “hard” samples become more common, you can assess how well the model handles uncertainty and whether strategies like uncertainty-aware training or selective prediction might help.</p>
</div></blockquote>
<dl class="simple">
<dt><strong>Perormance Degradation Assessment</strong></dt><dd><ul class="simple">
<li><p>Performance Metrics: In each case, we track performance metrics (e.g., accuracy, F1 score, MSE) under the drifted distribution to quantify degradation.</p></li>
<li><p>Robustness &amp; Adaptation: These experiments can inform how to improve model robustness—whether through reweighting, data augmentation, adversarial training, or domain adaptation techniques.</p></li>
<li><p>Simulation Strategy: The shift is simulated gradually (e.g., by progressively increasing the proportion of “drifted” samples) to observe the degradation curve.</p></li>
</ul>
</dd>
</dl>
<p>By comparing the model’s performance across these different drift scenarios, you gain valuable insights into which aspects of the data the model struggles with and how it might perform in more challenging real-world conditions.</p>
<section id="resilience-analysis-in-modeva">
<h2>Resilience Analysis in MoDeVa<a class="headerlink" href="#resilience-analysis-in-modeva" title="Link to this heading">#</a></h2>
<p>Performance degradation is evaluated by comparing the selected performance metrics under specific distribution shift scenarios to a baseline established from the full training or testing data distribution. The distribution shift is represented as a subset of the baseline data, tailored to the chosen scenario. This allows for a targeted analysis of how the model performs under different conditions and highlights areas where resilience improvements may be needed.</p>
<p><strong>Data Setup</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">modeva</span> <span class="kn">import</span> <span class="n">DataSet</span>
<span class="c1">## Create dataset object holder</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">DataSet</span><span class="p">()</span>
<span class="c1">## Loading MoDeVa pre-loaded dataset &quot;Bikesharing&quot;</span>
<span class="n">ds</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;BikeSharing&quot;</span><span class="p">)</span>
<span class="c1">## Preprocess the data</span>
<span class="n">ds</span><span class="o">.</span><span class="n">scale_numerical</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;cnt&quot;</span><span class="p">,),</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;log1p&quot;</span><span class="p">)</span> <span class="c1"># Log transfomed target</span>
<span class="n">ds</span><span class="o">.</span><span class="n">set_feature_type</span><span class="p">(</span><span class="n">feature</span><span class="o">=</span><span class="s2">&quot;hr&quot;</span><span class="p">,</span> <span class="n">feature_type</span><span class="o">=</span><span class="s2">&quot;categorical&quot;</span><span class="p">)</span> <span class="c1"># set to categorical feature</span>
<span class="n">ds</span><span class="o">.</span><span class="n">set_feature_type</span><span class="p">(</span><span class="n">feature</span><span class="o">=</span><span class="s2">&quot;mnth&quot;</span><span class="p">,</span> <span class="n">feature_type</span><span class="o">=</span><span class="s2">&quot;categorical&quot;</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">scale_numerical</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="n">ds</span><span class="o">.</span><span class="n">feature_names_numerical</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;standardize&quot;</span><span class="p">)</span> <span class="c1"># standardized numerical features</span>
<span class="n">ds</span><span class="o">.</span><span class="n">set_inactive_features</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;yr&quot;</span><span class="p">,</span> <span class="s2">&quot;season&quot;</span><span class="p">,</span> <span class="s2">&quot;temp&quot;</span><span class="p">))</span> <span class="c1"># deactivate some features</span>
<span class="n">ds</span><span class="o">.</span><span class="n">preprocess</span><span class="p">()</span>
<span class="c1">## Split data into training and testing sets randomly</span>
<span class="n">ds</span><span class="o">.</span><span class="n">set_random_split</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Model Setup</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Regression tasks using lightGBM and xgboost</span>
<span class="kn">from</span> <span class="nn">modeva.models</span> <span class="kn">import</span> <span class="n">MoLGBMRegressor</span><span class="p">,</span> <span class="n">MoXGBRegressor</span>

<span class="c1"># for lightGBM</span>
<span class="n">model_lgbm</span> <span class="o">=</span> <span class="n">MoLGBMRegressor</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;LGBM_model&quot;</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># for xgboost</span>
<span class="n">model_xgb</span> <span class="o">=</span> <span class="n">MoXGBRegressor</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;XGB_model&quot;</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># for catboost</span>
</pre></div>
</div>
<p><strong>Model Training</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># train model with input: ds.train_x and target: ds.train_y</span>
<span class="n">model_lgbm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">train_x</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">train_y</span><span class="p">)</span>
<span class="n">model_xgb</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">train_x</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">train_y</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Reporting and Diagnostic Setup</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a testsuite that bundles dataset and model</span>
<span class="kn">from</span> <span class="nn">modeva</span> <span class="kn">import</span> <span class="n">TestSuite</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">TestSuite</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">model_lgbm</span><span class="p">)</span> <span class="c1"># store bundle of dataset and model in fs</span>
</pre></div>
</div>
<p><strong>Resilience Assessment</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># resilience assessment using Worst-Sample scenario</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">diagnose_resilience</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;worst-sample&quot;</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MSE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># resilience assessment using Worst-Cluster scenario with maximum number of custers &#39;n_clusters=5&#39;</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">diagnose_resilience</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;worst-cluster&quot;</span><span class="p">,</span> <span class="n">n_clusters</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MSE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># resilience assessment using edge (outer) sample scenario</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">diagnose_resilience</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;outer-sample&quot;</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MSE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># resilience assessment using hard sample to predict scenario</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">diagnose_resilience</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;hard-sample&quot;</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MSE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="side-by-side docutils container">
<a class="reference internal image-reference" href="../../../_images/Resilience_worst_sample.png"><img alt="../../../_images/Resilience_worst_sample.png" src="../../../_images/Resilience_worst_sample.png" style="width: 45%;" />
</a>
<a class="reference internal image-reference" href="../../../_images/Resilience_worst_cluster.png"><img alt="../../../_images/Resilience_worst_cluster.png" src="../../../_images/Resilience_worst_cluster.png" style="width: 45%;" />
</a>
</div>
<div class="side-by-side docutils container">
<a class="reference internal image-reference" href="../../../_images/Resilience_outer_sample.png"><img alt="../../../_images/Resilience_outer_sample.png" src="../../../_images/Resilience_outer_sample.png" style="width: 45%;" />
</a>
<a class="reference internal image-reference" href="../../../_images/Resilience_hard_sample.png"><img alt="../../../_images/Resilience_hard_sample.png" src="../../../_images/Resilience_hard_sample.png" style="width: 45%;" />
</a>
</div>
<p>The <cite>results.plot()</cite> shows performance degradation due to distribution shift</p>
<p>For the full list of arguments of the API see <a class="reference external" href="../../modules/generated/modeva.TestSuite.diagnose_resilience.html">TestSuite.diagnose_resilience</a>.</p>
</section>
<section id="measuring-distribution-drift">
<h2>Measuring Distribution Drift<a class="headerlink" href="#measuring-distribution-drift" title="Link to this heading">#</a></h2>
<p>Univariate distribution shifts are evaluated using the following metrics:</p>
<ul class="simple">
<li><p>Jensen-Shannon Divergence (Population Stability Index): Measures the similarity between two probability distributions, identifying variable distribution shifts.</p></li>
<li><p>Wasserstein Distance: Quantifies the cost of transforming one distribution into another, offering insights into the extent of the shift.</p></li>
<li><p>Kolmogorov-Smirnov (KS) Statistic: Identifies the maximum difference between the cumulative distributions of two samples, pinpointing significant deviations.</p></li>
</ul>
<p>To assess the direction of distribution shifts and determine variable importance, these metrics are used to rank variables. This ranking highlights the variables most affected by distribution changes, helping prioritize them for further investigation and potential remediation to mitigate performance degradation.
This section presents both theoretical (continuous) and computational (discrete) formulations of key distribution shift metrics.</p>
<section id="jensen-shannon-divergence">
<h3>Jensen-Shannon Divergence<a class="headerlink" href="#jensen-shannon-divergence" title="Link to this heading">#</a></h3>
<section id="continuous-formulation">
<h4>Continuous Formulation:<a class="headerlink" href="#continuous-formulation" title="Link to this heading">#</a></h4>
<p>For probability density functions of shifted distribution p(x) and reference distribution q(x):</p>
<div class="math notranslate nohighlight">
\[JSD(P||Q) = \frac{1}{2}\int p(x)\log\frac{p(x)}{m(x)}dx + \frac{1}{2}\int q(x)\log\frac{q(x)}{m(x)}dx\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(m(x) = \frac{1}{2}(p(x) + q(x))\)</span></p></li>
</ul>
</div></blockquote>
</section>
<section id="discrete-formulation-psi">
<h4>Discrete Formulation (PSI):<a class="headerlink" href="#discrete-formulation-psi" title="Link to this heading">#</a></h4>
<p>For binned data with K bins:</p>
<div class="math notranslate nohighlight">
\[PSI = \sum_{i=1}^K (p_i - q_i)\log\frac{p_i}{q_i}\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(p_i\)</span> and <span class="math notranslate nohighlight">\(q_i\)</span> are proportions of observations in bin i</p></li>
<li><p>Small constant ε (e.g., 1e-6) is added to avoid log(0)</p></li>
<li><p><span class="math notranslate nohighlight">\(p_i = \frac{n_i + \epsilon}{\sum_j (n_j + \epsilon)}\)</span></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="wasserstein-distance">
<h3>Wasserstein Distance<a class="headerlink" href="#wasserstein-distance" title="Link to this heading">#</a></h3>
<section id="id1">
<h4>Continuous Formulation:<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<p>For cumulative distribution functions F(x) and G(x):</p>
<div class="math notranslate nohighlight">
\[W(P,Q) = \int_{-\infty}^{\infty} |F(x) - G(x)|dx\]</div>
</section>
<section id="discrete-formulation">
<h4>Discrete Formulation:<a class="headerlink" href="#discrete-formulation" title="Link to this heading">#</a></h4>
<p>For empirical distributions with sorted values <span class="math notranslate nohighlight">\(\{x_i\}_{i=1}^n\)</span> and <span class="math notranslate nohighlight">\(\{y_i\}_{i=1}^n\)</span>:</p>
<div class="math notranslate nohighlight">
\[W(P,Q) = \sum_{i=1}^n |F_n(x_i) - G_n(x_i)|\Delta x_i\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(F_n\)</span> and <span class="math notranslate nohighlight">\(G_n\)</span> are empirical CDFs</p></li>
<li><p><span class="math notranslate nohighlight">\(\Delta x_i\)</span> is the difference between consecutive sorted unique values</p></li>
<li><p>For equal-sized samples: <span class="math notranslate nohighlight">\(F_n(x_i) = \frac{rank(x_i)}{n}\)</span></p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="kolmogorov-smirnov-statistic">
<h3>Kolmogorov-Smirnov Statistic<a class="headerlink" href="#kolmogorov-smirnov-statistic" title="Link to this heading">#</a></h3>
<section id="id2">
<h4>Continuous Formulation:<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[KS = \sup_{x \in \mathbb{R}} |F(x) - G(x)|\]</div>
</section>
<section id="id3">
<h4>Discrete Formulation:<a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>For empirical distributions:</p>
<div class="math notranslate nohighlight">
\[KS = \max_{i} |F_n(x_i) - G_n(x_i)|\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(x_i\)</span> are the sorted unique values from combined samples</p></li>
<li><p><span class="math notranslate nohighlight">\(F_n\)</span> and <span class="math notranslate nohighlight">\(G_n\)</span> are empirical CDFs</p></li>
</ul>
</div></blockquote>
<p><strong>Feature Drift Impacts</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># resilience assessment using Worst-Sample scenario</span>
<span class="n">data_results</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_drift_test</span><span class="p">(</span>
   <span class="o">**</span><span class="n">results</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mf">0.1</span><span class="p">][</span><span class="s2">&quot;data_info&quot;</span><span class="p">],</span>
   <span class="n">distance_metric</span><span class="o">=</span><span class="s2">&quot;PSI&quot;</span><span class="p">,</span>
   <span class="n">psi_method</span><span class="o">=</span><span class="s2">&quot;uniform&quot;</span><span class="p">,</span>
   <span class="n">psi_bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">data_results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>The results of distributional drift from <a class="reference external" href="../../modules/generated/modeva.TestSuite.diagnose_resilience.html">TestSuite.diagnose_resilience</a> is evaluated using <a class="reference external" href="../../modules/generated/modeva.DataSet.data_drift_test.html">DataSet.data_drift_test</a></p>
<blockquote>
<div><ul class="simple">
<li><p>Percent of worst sample = 0.1 (10%) is selected for distribution shift</p></li>
<li><p>Metrics: PSI with 10 uniform binning is used for calculation.</p></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="../../../_images/resilience_PSI.png"><img alt="../../../_images/resilience_PSI.png" class="align-center" src="../../../_images/resilience_PSI.png" style="width: 500px;" />
</a>
<div class="side-by-side docutils container">
<a class="reference internal image-reference" href="../../../_images/resilience_Density_holiday.png"><img alt="../../../_images/resilience_Density_holiday.png" src="../../../_images/resilience_Density_holiday.png" style="width: 45%;" />
</a>
<a class="reference internal image-reference" href="../../../_images/resilience_Density_weekday.png"><img alt="../../../_images/resilience_Density_weekday.png" src="../../../_images/resilience_Density_weekday.png" style="width: 45%;" />
</a>
</div>
<div class="side-by-side docutils container">
<a class="reference internal image-reference" href="../../../_images/resilience_Density_windspeed.png"><img alt="../../../_images/resilience_Density_windspeed.png" src="../../../_images/resilience_Density_windspeed.png" style="width: 45%;" />
</a>
<a class="reference internal image-reference" href="../../../_images/resilience_Density_workingday.png"><img alt="../../../_images/resilience_Density_workingday.png" src="../../../_images/resilience_Density_workingday.png" style="width: 45%;" />
</a>
</div>
<p><cite>data_results.plot()</cite> displays the following results:</p>
<blockquote>
<div><ul class="simple">
<li><p>Summary of distribution shift for all the features ranked by PSI</p></li>
<li><p>Marginal density comparison of distribution shift</p></li>
<li><p>Marginal histogram comparison of distribution shift</p></li>
</ul>
</div></blockquote>
<p>the univariate distribution shifts and the summary of features ranked according to their PSIs.</p>
</section>
</section>
<section id="resilience-comparison">
<h3>Resilience Comparison<a class="headerlink" href="#resilience-comparison" title="Link to this heading">#</a></h3>
<p>Resilience of several models can be compared as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tsc</span> <span class="o">=</span> <span class="n">TestSuite</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="p">[</span><span class="n">model_lgbm</span><span class="p">,</span> <span class="n">model_xgb</span><span class="p">])</span>
<span class="c1"># resilience assessment using Worst-Cluster scenario</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">tsc</span><span class="o">.</span><span class="n">compare_resilience</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;worst-cluster&quot;</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MSE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/resilience_compare.png"><img alt="../../../_images/resilience_compare.png" class="align-center" src="../../../_images/resilience_compare.png" style="width: 500px;" />
</a>
<p>Check the API reference for detail arguments of <a class="reference external" href="../../modules/generated/modeva.TestSuite.compare_resilience.html">TestSuite.compare_resilience</a>.</p>
</section>
</section>
<section id="resilience-through-supervised-clustering-analysis">
<h2>Resilience Through Supervised Clustering Analysis<a class="headerlink" href="#resilience-through-supervised-clustering-analysis" title="Link to this heading">#</a></h2>
<p>To evaluate model resilience under distribution drift, detailed performance analysis can be conducted by examining clusters within the data. One effective approach is supervised clustering using random forests, which leverages residual error magnitudes as the clustering criterion.</p>
<dl class="simple">
<dt>Steps for Supervised Clustering to Analyze Model Resilience:</dt><dd><ul class="simple">
<li><p>Compute Residual Errors: Calculate the residual errors for each sample in the testing dataset. Use absolute or squared residual errors as the target variable for clustering.</p></li>
<li><p>Train a Random Forest: Build a random forest model using the residual errors as the target and the original features as predictors. Ensure the random forest model is configured with a sufficient number of trees to capture relationships accurately.</p></li>
<li><p>Generate Proximity Matrix: Extract the proximity matrix from the trained random forest. The proximity matrix reflects the similarity between samples based on the trees’ structure.</p></li>
<li><p>Perform Clustering: Apply a clustering algorithm (e.g., k-medoids, k-means) to the proximity matrix to group data samples into clusters.</p></li>
<li><p>Analyze Cluster Performance: Evaluate model performance metrics (e.g., accuracy, mean squared error) for each cluster.</p></li>
<li><p>Identify clusters where performance is significantly lower, indicating potential model weaknesses.</p></li>
</ul>
</dd>
</dl>
<p><strong>Analysis Using Random Forest Clustering</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">diagnose_resilience_cluster</span><span class="p">(</span>
   <span class="n">cluster_method</span><span class="o">=</span><span class="s2">&quot;cluster_qr&quot;</span><span class="p">,</span>
   <span class="n">n_clusters</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
   <span class="n">rf_n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
   <span class="n">rf_max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
   <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MAE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;performance&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/resilience_RF.png"><img alt="../../../_images/resilience_RF.png" class="align-center" src="../../../_images/resilience_RF.png" style="width: 500px;" />
</a>
<p>Check the API reference for detail arguments of <a class="reference external" href="../../modules/generated/modeva.TestSuite.diagnose_resilience_cluster.html">TestSuite.diagnose_resilience_cluster</a>.</p>
<p><strong>Data Drift for a Specific Cluster</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cluster_id</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">data_results</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_drift_test</span><span class="p">(</span>
   <span class="o">**</span><span class="n">results</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="s2">&quot;clusters&quot;</span><span class="p">][</span><span class="n">cluster_id</span><span class="p">][</span><span class="s2">&quot;data_info&quot;</span><span class="p">],</span>
   <span class="n">distance_metric</span><span class="o">=</span><span class="s2">&quot;PSI&quot;</span><span class="p">,</span>
   <span class="n">psi_method</span><span class="o">=</span><span class="s2">&quot;uniform&quot;</span><span class="p">,</span>
   <span class="n">psi_bins</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">data_results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/resilience_RF_PSI.png"><img alt="../../../_images/resilience_RF_PSI.png" class="align-center" src="../../../_images/resilience_RF_PSI.png" style="width: 500px;" />
</a>
<p>In this example, specific analysis is applied to cluster ID 2 and is compared to overall data as a baseline.</p>
<div class="side-by-side docutils container">
<a class="reference internal image-reference" href="../../../_images/resilience_Density_RF_weekday.png"><img alt="../../../_images/resilience_Density_RF_weekday.png" src="../../../_images/resilience_Density_RF_weekday.png" style="width: 45%;" />
</a>
<a class="reference internal image-reference" href="../../../_images/resilience_Density_RF_hr.png"><img alt="../../../_images/resilience_Density_RF_hr.png" src="../../../_images/resilience_Density_RF_hr.png" style="width: 45%;" />
</a>
</div>
<div class="side-by-side docutils container">
<a class="reference internal image-reference" href="_source/images/resilience_Density_RF_workingday.png"><img alt="_source/images/resilience_Density_RF_workingday.png" src="_source/images/resilience_Density_RF_workingday.png" style="width: 45%;" />
</a>
<a class="reference internal image-reference" href="../../../_images/resilience_Density_RF_hum.png"><img alt="../../../_images/resilience_Density_RF_hum.png" src="../../../_images/resilience_Density_RF_hum.png" style="width: 45%;" />
</a>
</div>
<p>Resilience among models can be compared in more details by using Random Forest clustering approach:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">tsc</span><span class="o">.</span><span class="n">compare_resilience_cluster</span><span class="p">(</span>
   <span class="n">cluster_method</span><span class="o">=</span><span class="s2">&quot;cluster_qr&quot;</span><span class="p">,</span>
   <span class="n">n_clusters</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
   <span class="n">rf_n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
   <span class="n">rf_max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
   <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;MSE&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/resilience_compare_RF.png"><img alt="../../../_images/resilience_compare_RF.png" class="align-center" src="../../../_images/resilience_compare_RF.png" style="width: 500px;" />
</a>
<p>Check the API reference for detail arguments of <a class="reference external" href="../../modules/generated/modeva.TestSuite.compare_resilience_cluster.html">TestSuite.compare_resilience_cluster</a>.</p>
</section>
<section id="strategies-for-addressing-model-weaknesses">
<h2>Strategies for Addressing Model Weaknesses<a class="headerlink" href="#strategies-for-addressing-model-weaknesses" title="Link to this heading">#</a></h2>
<section id="data-centric-approaches">
<h3>Data-Centric Approaches<a class="headerlink" href="#data-centric-approaches" title="Link to this heading">#</a></h3>
<p><strong>1. Targeted Data Augmentation:</strong></p>
<p>For regions with poor performance:</p>
<div class="math notranslate nohighlight">
\[R_{weak} = \{X: W(X) &gt; Q_{1-β}(W) \text{ or } V(X,y) = 1\}\]</div>
<dl class="simple">
<dt>Solutions:</dt><dd><ul class="simple">
<li><p>Collect additional samples in <span class="math notranslate nohighlight">\(R_{\text{weak}}\)</span></p></li>
<li><p>Active learning in weak regions</p></li>
</ul>
</dd>
</dl>
<p><strong>2. Feature Engineering:</strong></p>
<p>Based on weakness patterns:</p>
<ul class="simple">
<li><p>Create interaction terms for regions with nonlinear patterns</p></li>
<li><p>Develop domain-specific features where performance is poor</p></li>
<li><p>Improve feature engineering where performance is poor</p></li>
</ul>
</section>
<section id="model-centric-approaches">
<h3>Model-Centric Approaches<a class="headerlink" href="#model-centric-approaches" title="Link to this heading">#</a></h3>
<p><strong>1. Local Model Enhancement:</strong></p>
<p>For identified weak regions <span class="math notranslate nohighlight">\(R_{\text{weak}}\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}f_{enhanced}(X) = \begin{cases}
f_{local}(X) &amp; \text{if } X \in R_{weak} \\
f_{global}(X) &amp; \text{otherwise}
\end{cases}\end{split}\]</div>
<p>Strategies:</p>
<blockquote>
<div><ul class="simple">
<li><p>Train specialized models for <span class="math notranslate nohighlight">\(R_{\text{weak}}\)</span> (segmentation)</p></li>
<li><p>Ensemble models with region-specific weights (Mixture of Experts)</p></li>
</ul>
</div></blockquote>
<p><strong>2. Architecture Modifications:</strong></p>
<p>Based on weakness patterns:</p>
<ul class="simple">
<li><p>Incorporate domain knowledge via constraints</p></li>
<li><p>Use mixture of experts to reduce performance heterogeneity</p></li>
</ul>
<p><strong>3. Loss Function Adjustments:</strong></p>
<div class="math notranslate nohighlight">
\[L_{new}(X,y) = L_{original}(X,y) + \lambda W(X)R(X)\]</div>
<p>where:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(R(X)\)</span> is an indicator for weak regions</p></li>
<li><p><span class="math notranslate nohighlight">\(\lambda\)</span> balances overall performance vs local improvement</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">#</a></h2>
<aside class="topic">
<p class="topic-title">Example 1: Bike Sharing</p>
<blockquote>
<div><p>The example below demonstrates how to use MoDeVa with its high-code APis for the Bike Sharing dataset from the UCI repository, which consists of 20,640 samples and 9 features, fetched by sklearn.datasets. The response variable MedHouseVal (Median Home Value) is continuous and is a regression problem.</p>
</div></blockquote>
<ul class="simple">
<li><p><a class="reference internal" href="../../auto_galleries/val/4_resilience/plot_1_resilience_reg.html#sphx-glr-source-auto-galleries-val-4-resilience-plot-1-resilience-reg-py"><span class="std std-ref">Resilience Analysis (Regression)</span></a></p></li>
</ul>
</aside>
<aside class="topic">
<p class="topic-title">Examples 2: Taiwan Credit</p>
<blockquote>
<div><p>The second example below demonstrates how to use MoDeVa’s high-code APIs for the TaiwanCredit dataset from the UCI repository. This dataset comprises the credit card details of 30,000 clients in Taiwan from April 2005 to September 2005, and more information can be found on the TaiwanCreditData website. The <cite>FlagDefault</cite> variable serves as the response for this classification problem.</p>
</div></blockquote>
<ul class="simple">
<li><p><a class="reference internal" href="../../auto_galleries/val/4_resilience/plot_0_resilience_cls.html#sphx-glr-source-auto-galleries-val-4-resilience-plot-0-resilience-cls-py"><span class="std std-ref">Resilience Analysis (Classification)</span></a></p></li>
</ul>
</aside>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="robustness.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Robustness</p>
      </div>
    </a>
    <a class="right-next"
       href="fairness.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Fairness</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resilience-analysis-in-modeva">Resilience Analysis in MoDeVa</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#measuring-distribution-drift">Measuring Distribution Drift</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jensen-shannon-divergence">Jensen-Shannon Divergence</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-formulation">Continuous Formulation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#discrete-formulation-psi">Discrete Formulation (PSI):</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#wasserstein-distance">Wasserstein Distance</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Continuous Formulation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#discrete-formulation">Discrete Formulation:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kolmogorov-smirnov-statistic">Kolmogorov-Smirnov Statistic</a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Continuous Formulation:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Discrete Formulation:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resilience-comparison">Resilience Comparison</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resilience-through-supervised-clustering-analysis">Resilience Through Supervised Clustering Analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#strategies-for-addressing-model-weaknesses">Strategies for Addressing Model Weaknesses</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-centric-approaches">Data-Centric Approaches</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#model-centric-approaches">Model-Centric Approaches</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024-2025, Modeva Team.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>